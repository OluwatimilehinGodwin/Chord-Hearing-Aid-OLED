#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include "Petme8x8.h"

// OLED display size
#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64

// Reset pin (if not used, set to -1)
#define OLED_RESET -1
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

// Your bitmap data
static const unsigned char PROGMEM image_ear_icon_bits[] = {0x07,0xc0,0x00,0x00,0x0f,0xf0,0x00,0x00,0x3f,0xf8,0x00,0x00,0x38,0x1c,0x00,0x00,0x71,0x9c,0x00,0x00,0x67,0xcc,0x06,0x00,0xe6,0xcc,0x06,0x00,0xec,0x4c,0x06,0x00,0xe0,0xcc,0x06,0x00,0xe0,0xdc,0x67,0x00,0x61,0xc0,0x67,0x20,0x71,0xe0,0xed,0x60,0x71,0xe0,0xfd,0x70,0x39,0xe7,0xbd,0xdf,0x1c,0xc0,0x39,0xdc,0x1e,0x00,0x18,0x88,0x0e,0x04,0x18,0x00,0x07,0x0e,0x18,0x00,0x07,0x0e,0x18,0x00,0x03,0x0e,0x00,0x00,0x03,0x8e,0x00,0x00,0x01,0xfc,0x00,0x00,0x00,0xf8,0x00,0x00,0x00,0x20,0x00,0x00};

static const unsigned char PROGMEM image__0__bits[] = {0x00,0x00,0x00,0x00,0x00,0x00,0x7f,0xff,0xf0,0x80,0x00,0x08,0x80,0x00,0x08,0x80,0x00,0x0e,0x80,0x00,0x01,0x80,0x00,0x01,0x80,0x00,0x01,0x80,0x00,0x01,0x80,0x00,0x01,0x80,0x00,0x0e,0x80,0x00,0x08,0x80,0x00,0x08,0x7f,0xff,0xf0,0x00,0x00,0x00};

static const unsigned char PROGMEM image__60_100__bits[] = {0xf8,0xf8,0xf8,0xff,0xff,0xff,0xf8,0xf8,0xf8};

const char* Layer_2_text = "Chord Hearing Aid";

void setup() {
  // Initialize the OLED
  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { 
    Serial.begin(115200);
    Serial.println(F("SSD1306 allocation failed"));
    for(;;); // Don't proceed, loop forever
  }

  display.clearDisplay();

//****************** SCREEN 1*********************//
  // // ear icon
  // display.drawBitmap(47, 16, image_ear_icon_bits, 32, 24, 1);

  // // Layer 2
  // display.setTextColor(1);
  // display.setTextWrap(false);
  // display.setCursor(13, 46);
  // display.print(Layer_2_text);

//****************** SCREEN 2*********************//
  //   // 0%
  // display.drawBitmap(104, 0, image__0__bits, 24, 16, 1);

  // // 1-30%
  // display.fillRect(106, 4, 5, 9, 1);

  // // 30-60%
  // display.fillRect(112, 4, 5, 9, 1);

  // // 60-100%
  // display.drawBitmap(118, 4, image__60_100__bits, 8, 9, 1);

  // // bounding box for gain value
  // display.drawRect(48, 34, 71, 13, 1);

  // // Gain
  // display.setTextColor(1);
  // display.setTextWrap(false);
  // display.setFont(&Petme8x8);
  // display.setCursor(9, 45);
  // display.print("GAIN: 6.25 db");



  // Show the result
  display.display();
}

void loop() {
  // Nothing here, bitmap stays displayed
}
